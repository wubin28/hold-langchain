## Me:

```
gazed-into-doc (main))./quickstart.sh             
==================================
LangChain v1.0 ç¤ºä¾‹æ¼”ç¤º - å¿«é€Ÿå¯åŠ¨å‘å¯¼
==================================

ğŸ“ æ­¥éª¤1: æ£€æŸ¥Pythonç¯å¢ƒ...
âœ… æ‰¾åˆ°Python: Python 3.13.5

ğŸ“ æ­¥éª¤2: è®¾ç½®è™šæ‹Ÿç¯å¢ƒ...
âœ… è™šæ‹Ÿç¯å¢ƒå·²å­˜åœ¨
æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ...
âœ… è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»

ğŸ“ æ­¥éª¤3: å®‰è£…ä¾èµ–åŒ…...
æ­£åœ¨å‡çº§pip...
æ­£åœ¨å®‰è£…ä¾èµ–åŒ…ï¼ˆä»requirements.txtï¼‰...
âœ… ä¾èµ–å®‰è£…å®Œæˆ

ğŸ“ æ­¥éª¤4: æ£€æŸ¥APIå¯†é’¥...
âš ï¸  æœªæ£€æµ‹åˆ°DEEPSEEK_API_KEYç¯å¢ƒå˜é‡

è¯·è¾“å…¥ä½ çš„DeepSeek APIå¯†é’¥ï¼ˆå¯ä»¥ä» https://platform.deepseek.com/api_keys è·å–ï¼‰ï¼š

âœ… APIå¯†é’¥å·²è®¾ç½®ï¼ˆå½“å‰ä¼šè¯æœ‰æ•ˆï¼‰


==================================
ğŸ¯ å‡†å¤‡å®Œæˆï¼è¯·é€‰æ‹©è¦è¿è¡Œçš„æ¼”ç¤ºï¼š
==================================

1. ç¤ºä¾‹1 - System Promptä¿®å¤
   ï¼ˆå±•ç¤ºLangChain v1.0å¦‚ä½•æ­£ç¡®æ”¯æŒsystem promptï¼‰

2. ç¤ºä¾‹2 - JSONè§£æç¨³å®šæ€§
   ï¼ˆå±•ç¤ºç»“æ„åŒ–è¾“å‡ºå’Œé”™è¯¯å¤„ç†ï¼‰

3. ç¤ºä¾‹3 - ç»“æ„åŒ–è¾“å‡º
   ï¼ˆä½¿ç”¨Pydanticæ¨¡å‹å®šä¹‰è¾“å‡ºæ ¼å¼ï¼‰

4. ç¤ºä¾‹4 - DeepSeek Function Calling
   ï¼ˆå±•ç¤ºå‡½æ•°è°ƒç”¨èƒ½åŠ›ï¼‰

5. ç¤ºä¾‹5 - å®Œæ•´Recipe Bot
   ï¼ˆç»¼åˆç¤ºä¾‹ï¼šä»åŸæ–™æ¨èé£Ÿè°±ï¼‰

6. è¿è¡Œå…¨éƒ¨ç¤ºä¾‹

7. é€€å‡º

è¯·è¾“å…¥é€‰é¡¹ (1-7): 6

ğŸš€ è¿è¡Œå…¨éƒ¨ç¤ºä¾‹...

==================================
ç¤ºä¾‹1 - System Promptä¿®å¤
==================================
Traceback (most recent call last):
  File "/Users/binwu/OOR-local/katas/hold-langchain/the-problem-with-langchain/gazed-into-doc/example1_system_prompt_fixed.py", line 46, in <module>
    agent = create_react_agent(llm, tools, prompt)
  File "/Users/binwu/OOR-local/katas/hold-langchain/the-problem-with-langchain/gazed-into-doc/venv/lib/python3.13/site-packages/langchain/agents/react/agent.py", line 123, in create_react_agent
    raise ValueError(f"Prompt missing required variables: {missing_vars}")
ValueError: Prompt missing required variables: {'tool_names', 'tools'}
è¯·ä¿®å¤ã€‚
```

## Cursor with claude sonnet 4.5:

```
æˆ‘æ¥å¸®ä½ ä¿®å¤è¿™ä¸ªé”™è¯¯ã€‚è®©æˆ‘å…ˆæŸ¥çœ‹ç›¸å…³æ–‡ä»¶æ¥äº†è§£é—®é¢˜æ‰€åœ¨ã€‚

[3 tools called]

æˆ‘æ‰¾åˆ°é—®é¢˜äº†ã€‚`create_react_agent` éœ€è¦ä¸€ä¸ªåŒ…å« `tools` å’Œ `tool_names` å˜é‡çš„ç‰¹å®šæ ¼å¼çš„ promptã€‚è®©æˆ‘ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼š

[1 tool called]

ç°åœ¨è®©æˆ‘æ£€æŸ¥å…¶ä»–ç¤ºä¾‹æ–‡ä»¶æ˜¯å¦æœ‰åŒæ ·çš„é—®é¢˜ï¼š

[3 tools called]

æˆ‘çœ‹åˆ°äº†é—®é¢˜ã€‚example2 å’Œ example3 ä¹Ÿæœ‰åŒæ ·çš„é—®é¢˜ã€‚è®©æˆ‘ä¿®å¤å®ƒä»¬ï¼š

[2 tools called]

ç°åœ¨è®©æˆ‘æ£€æŸ¥æ˜¯å¦è¿˜æœ‰ example5ï¼š

[2 tools called]

ç°åœ¨è®©æˆ‘æ›´æ–°æ–‡æ¡£æ–‡ä»¶ä»¥ä¿æŒä¸€è‡´æ€§ï¼š

[7 tools called]

å¥½çš„ï¼Œä¿®å¤å·²å®Œæˆï¼ç°åœ¨è®©æˆ‘éªŒè¯ä¸€ä¸‹ä¿®å¤æ˜¯å¦æœ‰æ•ˆã€‚è®©æˆ‘è¿è¡Œå¿«é€Ÿæµ‹è¯•ï¼š

[1 tool called]

å¥½æ¶ˆæ¯ï¼é”™è¯¯ä¿¡æ¯å·²ç»æ”¹å˜äº†ã€‚ä¹‹å‰çš„é”™è¯¯æ˜¯ `ValueError: Prompt missing required variables: {'tool_names', 'tools'}`ï¼Œç°åœ¨çš„é”™è¯¯æ˜¯å…³äº API key çš„ï¼Œè¿™è¯´æ˜æˆ‘ä»¬çš„ prompt ä¿®å¤å·²ç»æˆåŠŸäº†ï¼

è®©æˆ‘åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•è„šæœ¬æ¥éªŒè¯ prompt æ˜¯å¦æ­£ç¡®é…ç½®ï¼š

[2 tools called]

å®Œç¾ï¼ä¿®å¤å·²éªŒè¯æˆåŠŸã€‚ç°åœ¨è®©æˆ‘æ¸…ç†æµ‹è¯•æ–‡ä»¶ï¼š

[1 tool called]

ç°åœ¨è®©æˆ‘åˆ›å»ºä¸€ä¸ªæ€»ç»“è¯´æ˜ï¼š

[1 tool called]

## ä¿®å¤å®Œæˆï¼âœ…

æˆ‘å·²ç»æˆåŠŸä¿®å¤äº†æ‰€æœ‰ä½¿ç”¨ `create_react_agent` çš„ç¤ºä¾‹è„šæœ¬ä¸­çš„é—®é¢˜ã€‚

### é—®é¢˜åŸå› 
LangChain çš„ `create_react_agent()` å‡½æ•°è¦æ±‚ prompt æ¨¡æ¿å¿…é¡»åŒ…å«ä»¥ä¸‹å˜é‡ï¼š
- `{tools}` - å·¥å…·æè¿°
- `{tool_names}` - å·¥å…·åç§°åˆ—è¡¨
- `{input}` - ç”¨æˆ·è¾“å…¥
- `{agent_scratchpad}` - Agent æ€è€ƒè¿‡ç¨‹

åŸä»£ç ç¼ºå°‘äº† `tools` å’Œ `tool_names` è¿™ä¸¤ä¸ªå¿…éœ€å˜é‡ã€‚

### å·²ä¿®å¤çš„æ–‡ä»¶
1. âœ… `example1_system_prompt_fixed.py`
2. âœ… `example2_json_parsing_robust.py`
3. âœ… `example3_structured_output.py`
4. âœ… `analysis-and-langchain-v1-examples.md` (æ–‡æ¡£)

### æ— éœ€ä¿®å¤çš„æ–‡ä»¶
- `example4_function_calling.py` - ä½¿ç”¨ `create_openai_functions_agent()`
- `example5_complete_recipe_bot.py` - ä½¿ç”¨ `create_openai_functions_agent()`

### éªŒè¯ç»“æœ
æµ‹è¯•ç¡®è®¤ prompt ç°åœ¨åŒ…å«æ‰€æœ‰å¿…éœ€å˜é‡ï¼š
- âœ“ tools
- âœ“ tool_names
- âœ“ input
- âœ“ agent_scratchpad
- âœ“ chat_history (å¯é€‰)

ç°åœ¨åªéœ€è¦è®¾ç½® `DEEPSEEK_API_KEY` ç¯å¢ƒå˜é‡ï¼Œç¤ºä¾‹è„šæœ¬å°±å¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼
```