## Me:

```
âœ  hello-world (main) âœ—)./quickstart.sh
==================================
LangChainæ‰¹è¯„æ¼”ç¤º - å¿«é€Ÿå¯åŠ¨å‘å¯¼
==================================

ğŸ“ æ­¥éª¤1: æ£€æŸ¥Pythonç¯å¢ƒ...
âœ… æ‰¾åˆ°Python: Python 3.13.5

ğŸ“ æ­¥éª¤2: è®¾ç½®è™šæ‹Ÿç¯å¢ƒ...
åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ...
âœ… è™šæ‹Ÿç¯å¢ƒåˆ›å»ºæˆåŠŸ
æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ...
âœ… è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»

ğŸ“ æ­¥éª¤3: å®‰è£…ä¾èµ–åŒ…...
æ­£åœ¨å®‰è£…OpenAIåº“ï¼ˆç”¨äºDeepSeek APIï¼‰...

[notice] A new release of pip is available: 25.1.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
æ­£åœ¨å®‰è£…LangChain...

[notice] A new release of pip is available: 25.1.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
æ­£åœ¨å®‰è£…SerpAPIï¼ˆAgentæ¼”ç¤ºéœ€è¦ï¼‰...

[notice] A new release of pip is available: 25.1.1 -> 25.3
[notice] To update, run: pip install --upgrade pip
âœ… ä¾èµ–å®‰è£…å®Œæˆ

ğŸ“ æ­¥éª¤4: æ£€æŸ¥APIå¯†é’¥...
âš ï¸  æœªæ£€æµ‹åˆ°DEEPSEEK_API_KEYç¯å¢ƒå˜é‡

è¯·è¾“å…¥ä½ çš„DeepSeek APIå¯†é’¥ï¼ˆå¯ä»¥ä» https://platform.deepseek.com è·å–ï¼‰ï¼š

âœ… APIå¯†é’¥å·²è®¾ç½®ï¼ˆå½“å‰ä¼šè¯æœ‰æ•ˆï¼‰

âš ï¸  æœªæ£€æµ‹åˆ°SERPAPI_API_KEYï¼ˆAgentæ¼”ç¤ºéœ€è¦ï¼‰

æ˜¯å¦ç°åœ¨è®¾ç½®SERPAPI_API_KEYï¼Ÿ(y/n)
ï¼ˆå¯ä»¥ä» https://serpapi.com æ³¨å†Œè·å–å…è´¹å¯†é’¥ï¼Œè·³è¿‡åˆ™æ— æ³•è¿è¡ŒAgentæ¼”ç¤ºï¼‰
y
è¯·è¾“å…¥ä½ çš„SerpAPIå¯†é’¥ï¼š

âœ… SerpAPIå¯†é’¥å·²è®¾ç½®

==================================
ğŸ¯ å‡†å¤‡å®Œæˆï¼è¯·é€‰æ‹©è¦è¿è¡Œçš„æ¼”ç¤ºï¼š
==================================

1. è¿è¡Œä¸»æ¼”ç¤º - ç¼ºç‚¹1-3å¯¹æ¯”
   ï¼ˆè¿‡åº¦ä½¿ç”¨å¯¹è±¡ç±»ã€Promptæ¨¡æ¿å¤æ‚ã€å¯¹è¯è®°å¿†å¤æ‚ï¼‰

2. è¿è¡ŒAgentæ¼”ç¤º - ç¼ºç‚¹4-5å¯¹æ¯”
   ï¼ˆAgentæ€§èƒ½é—®é¢˜ã€å®ç°ä¸é€æ˜ï¼‰

3. è¿è¡Œå…¨éƒ¨æ¼”ç¤º

4. é€€å‡º

è¯·è¾“å…¥é€‰é¡¹ (1-4): 3

ğŸš€ è¿è¡Œå…¨éƒ¨æ¼”ç¤º...

================================================================================
LangChain Hello World ç¼ºç‚¹å¯¹æ¯”æ¼”ç¤º
================================================================================

ğŸ“Œ ç¼ºç‚¹1: è¿‡åº¦ä½¿ç”¨å¯¹è±¡ç±»ï¼Œæ— æ˜æ˜¾ä»£ç ä¼˜åŠ¿
--------------------------------------------------------------------------------

ğŸ”´ LangChainæ–¹å¼ (ä½¿ç”¨å¤šä¸ªå¯¹è±¡ç±»):
ä»£ç :

from langchain_openai import ChatOpenAI
from langchain.schema import HumanMessage

chat = ChatOpenAI(temperature=0)
result = chat.invoke([HumanMessage(content="Translate: I love programming to French")])
print(result.content)

âŒ LangChainæ‰§è¡Œå¤±è´¥: No module named 'langchain.schema'
æç¤º: è¯·ç¡®ä¿å·²å®‰è£… langchain å’Œ langchain-openai

================================================================================

ğŸŸ¢ DeepSeekå®˜æ–¹åº“æ–¹å¼ (ç®€æ´ç›´æ¥):
ä»£ç :

from openai import OpenAI

client = OpenAI(
    api_key=os.environ.get("DEEPSEEK_API_KEY"),
    base_url="https://api.deepseek.com"
)
messages = [{"role": "user", "content": "Translate: I love programming to French"}]
response = client.chat.completions.create(model="deepseek-chat", messages=messages, temperature=0)
print(response.choices[0].message.content)


æ‰§è¡Œç»“æœ:
âœ… J'adore la programmation.
â±ï¸  è€—æ—¶: 1.84ç§’

ğŸ’¡ åˆ†æ: ä¸¤ç§æ–¹å¼ä»£ç é‡ç›¸å½“ï¼Œä½†LangChainå¼•å…¥äº†é¢å¤–çš„å¯¹è±¡ç±»ï¼Œå¢åŠ äº†å¤æ‚åº¦


================================================================================
ğŸ“Œ ç¼ºç‚¹2: Promptæ¨¡æ¿è¿‡äºå¤æ‚ (å®é™…ä¸Šåªæ˜¯f-stringsçš„åŒ…è£…)
--------------------------------------------------------------------------------

ğŸ”´ LangChainæ–¹å¼ (å¤šå±‚åµŒå¥—çš„æ¨¡æ¿ç±»):
ä»£ç :

from langchain.prompts.chat import (
    ChatPromptTemplate,
    SystemMessagePromptTemplate,
    HumanMessagePromptTemplate,
)

template = "You are a helpful assistant that translates {input_language} to {output_language}."
system_message_prompt = SystemMessagePromptTemplate.from_template(template)
human_template = "{text}"
human_message_prompt = HumanMessagePromptTemplate.from_template(human_template)

chat_prompt = ChatPromptTemplate.from_messages([system_message_prompt, human_message_prompt])
messages = chat_prompt.format_messages(
    input_language="English", 
    output_language="French", 
    text="I love programming."
)
print(messages)

âŒ LangChainæ‰§è¡Œå¤±è´¥: No module named 'langchain.prompts'

================================================================================

ğŸŸ¢ PythonåŸç”Ÿf-stringsæ–¹å¼ (ç®€å•ç›´æ¥):
ä»£ç :

input_language = "English"
output_language = "French"
text = "I love programming."

system_content = f"You are a helpful assistant that translates {input_language} to {output_language}."
human_content = f"{text}"

messages = [
    {"role": "system", "content": system_content},
    {"role": "user", "content": human_content}
]
print(messages)


æ‰§è¡Œç»“æœ:
âœ… ç”Ÿæˆçš„æ¶ˆæ¯:
   - system: You are a helpful assistant that translates English to French.
   - user: I love programming.

ğŸ’¡ åˆ†æ: LangChainçš„promptæ¨¡æ¿åªæ˜¯f-stringsçš„åŒ…è£…ï¼Œä½†å¢åŠ äº†3ä¸ªé¢å¤–çš„ç±»å’Œå¤šè¡Œä»£ç 


================================================================================
ğŸ“Œ ç¼ºç‚¹3: å¯¹è¯è®°å¿†ç®¡ç†è¿‡äºå¤æ‚
--------------------------------------------------------------------------------

ğŸ”´ LangChainæ–¹å¼ (å¤šä¸ªæ¦‚å¿µ: ConversationBufferMemory, MessagesPlaceholderç­‰):
ä»£ç :

from langchain.prompts import (
    ChatPromptTemplate,
    MessagesPlaceholder,
    SystemMessagePromptTemplate,
    HumanMessagePromptTemplate
)
from langchain.chains import ConversationChain
from langchain.chat_models import ChatOpenAI
from langchain.memory import ConversationBufferMemory

prompt = ChatPromptTemplate.from_messages([
    SystemMessagePromptTemplate.from_template(
        "The following is a friendly conversation between a human and an AI."
    ),
    MessagesPlaceholder(variable_name="history"),
    HumanMessagePromptTemplate.from_template("{input}")
])

llm = ChatOpenAI(temperature=0)
memory = ConversationBufferMemory(return_messages=True)
conversation = ConversationChain(memory=memory, prompt=prompt, llm=llm)

response = conversation.predict(input="Hi there!")
print(response)

âŒ LangChainæ‰§è¡Œå¤±è´¥: No module named 'langchain.prompts'

================================================================================

ğŸŸ¢ DeepSeekå®˜æ–¹åº“æ–¹å¼ (ä½¿ç”¨ç®€å•çš„åˆ—è¡¨):
ä»£ç :

from openai import OpenAI

client = OpenAI(
    api_key=os.environ.get("DEEPSEEK_API_KEY"),
    base_url="https://api.deepseek.com"
)
messages = [{
    "role": "system", 
    "content": "The following is a friendly conversation between a human and an AI."
}]

# ç¬¬ä¸€è½®å¯¹è¯
user_message = "Hi there!"
messages.append({"role": "user", "content": user_message})
response = client.chat.completions.create(model="deepseek-chat", messages=messages, temperature=0)
assistant_message = response.choices[0].message.content
messages.append({"role": "assistant", "content": assistant_message})
print(assistant_message)

# ç¬¬äºŒè½®å¯¹è¯
user_message2 = "What's 2+2?"
messages.append({"role": "user", "content": user_message2})
response2 = client.chat.completions.create(model="deepseek-chat", messages=messages, temperature=0)
assistant_message2 = response2.choices[0].message.content
messages.append({"role": "assistant", "content": assistant_message2})
print(assistant_message2)


æ‰§è¡Œç»“æœ:
âœ… Hello! ğŸ‘‹ It's great to meet you! How can I help you today? Whether you have questions, need assistance with something, or just want to chat, I'm here for you! ğŸ˜Š
â±ï¸  è€—æ—¶: 2.60ç§’
âœ… That's a classic! 2 + 2 equals **4**. ğŸ˜Š

If you're in the mood for something more challenging or fun, feel free to askâ€”I'm here to help with math, puzzles, or anything else on your mind!

ğŸ“ å½“å‰å¯¹è¯å†å² (5 æ¡æ¶ˆæ¯):
   1. [system] The following is a friendly conversation between a...
   2. [user] Hi there!...
   3. [assistant] Hello! ğŸ‘‹ It's great to meet you! How can I help yo...
   4. [user] What's 2+2?...
   5. [assistant] That's a classic! 2 + 2 equals **4**. ğŸ˜Š

If you're...

ğŸ’¡ åˆ†æ: DeepSeekå®˜æ–¹åº“ä»£ç æ›´å°‘ï¼Œé€»è¾‘æ›´æ¸…æ™°ï¼Œèƒ½ç›´æ¥çœ‹åˆ°æ¶ˆæ¯çš„ä¿å­˜ä½ç½®å’Œæ—¶æœº
   LangChainå¼•å…¥äº†ConversationBufferMemoryã€MessagesPlaceholderç­‰æ¦‚å¿µï¼Œå¢åŠ äº†å­¦ä¹ æˆæœ¬

================================================================================
ğŸ“Š æ€»ç»“
================================================================================

æ–‡ç« ä½œè€…çš„æ ¸å¿ƒè§‚ç‚¹:

1. âŒ LangChainå¼•å…¥äº†å¤§é‡æŠ½è±¡å±‚ï¼ˆå¯¹è±¡ç±»ã€æ¨¡æ¿ç±»ã€è®°å¿†ç±»ç­‰ï¼‰
2. âŒ è¿™äº›æŠ½è±¡æ²¡æœ‰å¸¦æ¥æ˜æ˜¾çš„ä»£ç ä¼˜åŠ¿ï¼Œåè€Œå¢åŠ äº†å¤æ‚åº¦
3. âŒ å¾ˆå¤šåŠŸèƒ½ç”¨PythonåŸç”Ÿç‰¹æ€§ï¼ˆå¦‚f-stringsï¼‰æˆ–ç›´æ¥ä½¿ç”¨APIå°±èƒ½ç®€å•å®ç°
4. âŒ æ–‡æ¡£ä¸å¤Ÿé€æ˜ï¼Œéšè—äº†é‡è¦çš„æ€§èƒ½ç»†èŠ‚ï¼ˆå¦‚Agentæ¯æ­¥éƒ½è°ƒç”¨APIï¼‰
5. âŒ å¦‚æœquickstartå°±è¿™ä¹ˆå¤æ‚ï¼Œå®é™…ä½¿ç”¨ä¼šæ›´ç—›è‹¦

ä½œè€…è®¤ä¸º: "å¦‚æœnitpicksï¼ˆå¹æ¯›æ±‚ç–µçš„é—®é¢˜ï¼‰æ¯”å®é™…å¥½å¤„è¿˜å¤šï¼Œè¿™ä¸ªåº“å°±ä¸å€¼å¾—ä½¿ç”¨"

================================================================================
æ¼”ç¤ºå®Œæˆ!
================================================================================

==================================
æŒ‰Enterç»§ç»­è¿è¡ŒAgentæ¼”ç¤º...

================================================================================
LangChain Agent æ€§èƒ½é—®é¢˜æ¼”ç¤º
================================================================================

ğŸ“Œ ç¼ºç‚¹4: Agentæ¯ä¸ªæ­¥éª¤éƒ½å•ç‹¬è°ƒç”¨APIï¼Œä½†æ–‡æ¡£æœªæ˜ç¡®è¯´æ˜
--------------------------------------------------------------------------------

ğŸ”´ LangChain Agentæ–¹å¼:
ä»£ç :

from langchain.agents import load_tools, initialize_agent, AgentType
from langchain_openai import ChatOpenAI, OpenAI

chat = ChatOpenAI(
    temperature=0,
    model="deepseek-chat",
    openai_api_base="https://api.deepseek.com"
)
llm = OpenAI(
    temperature=0,
    model="deepseek-chat",
    openai_api_base="https://api.deepseek.com"
)
tools = load_tools(["serpapi", "llm-math"], llm=llm)

agent = initialize_agent(
    tools, 
    chat, 
    agent=AgentType.CHAT_ZERO_SHOT_REACT_DESCRIPTION, 
    verbose=True
)

# æ³¨æ„ï¼šè¿™ä¸ªæŸ¥è¯¢ä¼šäº§ç”Ÿå¤šæ¬¡APIè°ƒç”¨ï¼
result = agent.run("What is 25 multiplied by 4?")

âŒ LangChain Agentæ‰§è¡Œå¤±è´¥: cannot import name 'load_tools' from 'langchain.agents' (/Users/binwu/OOR-local/katas/hold-langchain/the-problem-with-langchain/hello-world/venv/lib/python3.13/site-packages/langchain/agents/__init__.py)
Traceback (most recent call last):
  File "/Users/binwu/OOR-local/katas/hold-langchain/the-problem-with-langchain/hello-world/langchain_agent_performance_demo.py", line 66, in <module>
    from langchain.agents import load_tools, initialize_agent, AgentType
ImportError: cannot import name 'load_tools' from 'langchain.agents' (/Users/binwu/OOR-local/katas/hold-langchain/the-problem-with-langchain/hello-world/venv/lib/python3.13/site-packages/langchain/agents/__init__.py)

================================================================================

ğŸŸ¢ å¦‚æœç”¨DeepSeek APIç›´æ¥å®ç°ç±»ä¼¼åŠŸèƒ½:
ä»£ç æ€è·¯:

from openai import OpenAI

client = OpenAI(
    api_key=os.environ.get("DEEPSEEK_API_KEY"),
    base_url="https://api.deepseek.com"
)

# ä¸€æ¬¡æ€§æ„é€ å®Œæ•´çš„æç¤ºè¯ï¼ŒåŒ…å«å·¥å…·æè¿°
system_prompt = '''
You are a helpful assistant with access to these tools:
1. Search: Search the web for information
2. Calculator: Perform mathematical calculations

When you need to use a tool, respond with JSON: {"tool": "tool_name", "input": "..."}
Otherwise, provide the final answer.
'''

# ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼šè®©AIå†³å®šéœ€è¦ä»€ä¹ˆå·¥å…·
messages = [
    {"role": "system", "content": system_prompt},
    {"role": "user", "content": "What is 25 multiplied by 4?"}
]

response1 = client.chat.completions.create(model="deepseek-chat", messages=messages)
# AIå¯èƒ½å“åº”: {"tool": "Calculator", "input": "25 * 4"}

# æ‰§è¡Œè®¡ç®—

# ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šæä¾›è®¡ç®—ç»“æœï¼Œè®©AIç»™å‡ºæœ€ç»ˆç­”æ¡ˆ
messages.append({"role": "assistant", "content": response1.choices[0].message.content})
messages.append({"role": "user", "content": "Calculation result: 100"})

response2 = client.chat.completions.create(model="deepseek-chat", messages=messages)
# AIç»™å‡ºæœ€ç»ˆç­”æ¡ˆ


ğŸ’¡ åˆ†æ:
   - ç›´æ¥ä½¿ç”¨APIæ—¶ï¼Œä½ éœ€è¦æ‰‹åŠ¨å®ç°Agentå¾ªç¯
   - ä½†ä½ ä¼šæ¸…æ¥šåœ°çŸ¥é“æ¯æ¬¡APIè°ƒç”¨çš„æ—¶æœºå’Œæˆæœ¬
   - LangChainéšè—äº†è¿™äº›ç»†èŠ‚ï¼Œå¯èƒ½å¯¼è‡´æ„å¤–çš„é«˜æˆæœ¬å’Œæ…¢å“åº”

================================================================================
ğŸ“Š å…³é”®é—®é¢˜æ€»ç»“
================================================================================

âŒ LangChainçš„é—®é¢˜:
   1. Agentçš„æ¯ä¸ªæ¨ç†æ­¥éª¤éƒ½ä¼šè°ƒç”¨API
   2. ä¸€ä¸ªç®€å•æŸ¥è¯¢å¯èƒ½äº§ç”Ÿ3-5æ¬¡APIè°ƒç”¨
   3. æ–‡æ¡£ä¸­æ²¡æœ‰æ˜ç¡®è¯´æ˜è¿™ä¸€ç‚¹
   4. ç”¨æˆ·å¯èƒ½ä¼šæƒŠè®¶äºé«˜æ˜‚çš„APIè´¹ç”¨å’Œé•¿æ—¶é—´çš„å“åº”å»¶è¿Ÿ
   5. AgentType.CHAT_ZERO_SHOT_REACT_DESCRIPTION è¿™æ ·çš„å‘½åå¾ˆæ™¦æ¶©

âœ… é€æ˜åº¦çš„é‡è¦æ€§:
   - å¼€å‘è€…åº”è¯¥æ˜ç¡®çŸ¥é“ä½•æ—¶ã€ä¸ºä½•è°ƒç”¨API
   - æˆæœ¬å’Œæ€§èƒ½å½±å“åº”è¯¥æ˜¯å¯é¢„æµ‹çš„
   - æŠ½è±¡ä¸åº”è¯¥éšè—å…³é”®çš„æ€§èƒ½ç‰¹å¾


================================================================================
æ¼”ç¤ºå®Œæˆ!
================================================================================

==================================
âœ… æ¼”ç¤ºå®Œæˆï¼
==================================

ğŸ’¡ æç¤ºï¼š
   - è¦é‡æ–°è¿è¡Œï¼Œè¯·æ‰§è¡Œ: ./quickstart.sh
   - æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£: cat README.md
   - é€€å‡ºè™šæ‹Ÿç¯å¢ƒ: deactivate

```